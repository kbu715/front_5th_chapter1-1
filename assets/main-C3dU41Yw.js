import{B as l,R as t,u as o,$ as c}from"./router-CRRfJWF0.js";const a=new l({guardRoute:(e,r)=>{e.path===t.LOGIN&&o.loggedIn()?r(t.HOME):e.authRequired&&!o.loggedIn()?r(t.LOGIN):r()}}),n=c("#root");n.addEventListener("click",e=>{e.target&&e.target.nodeName==="A"&&(e.preventDefault(),a.push(e.target.href.replace(location.origin,"")))});n.addEventListener("click",e=>{e.target&&e.target.id==="logout"&&(o.logout(),a.push(t.LOGIN))});n.addEventListener("submit",e=>{const r=e.target;if(r.id==="login-form"){e.preventDefault();const i=r.querySelector("#username").value;o.login(i),a.push(t.HOME)}if(r.id==="profile-form"){e.preventDefault();const i=r.querySelector("#username").value,s=r.querySelector("#email").value,u=r.querySelector("#bio").value;o.setUser({username:i,email:s,bio:u})}});window.addEventListener("error",()=>{a.push(t.NOT_FOUND)});
