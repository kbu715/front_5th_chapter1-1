import{H as s,R as r,u as a,$ as l}from"./router-BHUheK1Y.js";const o=new s({guardRoute:(e,t)=>{e.path===r.LOGIN&&a.loggedIn()?t(r.HOME):e.authRequired&&!a.loggedIn()?t(r.LOGIN):t()}}),i=l("#root");i.addEventListener("click",e=>{e.target&&e.target.nodeName==="A"&&(e.preventDefault(),o.push(e.target.href.replace(location.origin,"")))});i.addEventListener("click",e=>{e.target&&e.target.id==="logout"&&(a.logout(),o.push(r.LOGIN))});i.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();const t=e.target.querySelector("#username").value;a.login(t),o.push(r.HOME)}if(e.target&&e.target.id==="profile-form"){e.preventDefault();const t=e.target.querySelector("#username").value,u=e.target.querySelector("#email").value,n=e.target.querySelector("#bio").value;a.setUser({username:t,email:u,bio:n})}});window.addEventListener("error",()=>{o.push(r.NOT_FOUND)});
