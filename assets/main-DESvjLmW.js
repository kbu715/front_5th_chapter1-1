import{B as n,R as r,u as o,$ as c}from"./router-BHUheK1Y.js";const u=new n({guardRoute:(e,t)=>{e.path===r.LOGIN&&o.loggedIn()?t(r.HOME):e.authRequired&&!o.loggedIn()?t(r.LOGIN):t()}}),i=c("#root");i.addEventListener("click",e=>{e.target&&e.target.nodeName==="A"&&(e.preventDefault(),u.push(e.target.href.replace(location.origin,"")))});i.addEventListener("click",e=>{e.target&&e.target.id==="logout"&&(o.logout(),u.push(r.LOGIN))});i.addEventListener("submit",e=>{const t=e.target;if(t.id==="login-form"){e.preventDefault();const a=t.querySelector("#username").value;o.login(a),u.push(r.HOME)}if(t.id==="profile-form"){e.preventDefault();const a=t.querySelector("#username").value,s=t.querySelector("#email").value,l=t.querySelector("#bio").value;o.setUser({username:a,email:s,bio:l})}});
